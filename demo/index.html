<!doctype html>
<html>
  <head>
    <title>xterm.js demo</title>
    <!--
      WARNING: This demo is a barebones implementation designed for development and evaluation
      purposes only. It is definitely NOT production ready and does not aim to be so. Exposing the
      demo to the public as is would introduce security risks for the host.
    -->
    <link rel="shortcut icon" type="image/png" href="/logo.png">
    <link rel="stylesheet" href="/xterm.css" />
    <link rel="stylesheet" href="/style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es6-promise/4.1.1/es6-promise.auto.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/1.0.0/fetch.min.js"></script>
  </head>
  <body>
    <h1 style="color: #2D2E2C">xterm.js: Gitpod's fastest IDE</h1>
    <div id="container">
      <div id="grid">
        <div id="terminal-container"></div>
      </div>
      <div id="grid">
        <div class="tab">
          <button id="optionsbutton" class="tabLinks" onclick="openSection(event, 'options')">Options</button>
          <button id="addonsbutton" class="tabLinks" onclick="openSection(event, 'addons')">Addons</button>
          <button id="testbutton" class="tabLinks" onclick="openSection(event, 'test')">Test</button>
        </div>
        <div id="options" class="tabContent">
          <h3>Options</h3>
          <p>These options can be set in the <code>Terminal</code> constructor or by using the <code>Terminal.options</code> property.</p>
          <div id="options-container"></div>
        </div>
        <div id="addons" class="tabContent">
          <h3>Addons</h3>
          <p>Addons can be loaded and unloaded on a particular terminal to extend its functionality.</p>
          <div id="addons-container"></div>
          <h3>Addons Control</h3>
          <h4>SearchAddon</h4>
          <div style= "display:flex; flex-direction:column;">
            <label>Find next <input id="find-next"/></label>
            <label>Find previous <input id="find-previous"/></label>
            <div>Results: <span id="find-results"></span></div>
            <label><input type="checkbox" id="regex"/>Use regex</label>
            <label><input type="checkbox" id="case-sensitive"/>Case sensitive</label>
            <label><input type="checkbox" id="whole-word"/>Whole word</label>
            <label><input type="checkbox" id="highlight-all-matches" checked/>Highlight All Matches</label>
          </div>
        </div>
        <div id="test" class="tabContent">
          <h3>Test</h3>
          <div style="display: inline-block; margin-right: 16px;">
            <button id="dispose" title="This is used to testing memory leaks">Dispose terminal</button>
            <button id="load-test" title="Write several MB of data to simulate a lot of data coming from the process">Load test</button>
            <button id="add-decoration" title="Add a decoration to the terminal">Decoration</button>
          </div>
        </div>
      </div>
    </div>
      <script type="text/javascript" src="/_supervisor/frontend/main.js" charset="utf-8"></script>
      <script src="dist/client-bundle.js" defer ></script>
      <script>
      var tab = localStorage.getItem("tab");

        if(tab === null){
            document.getElementById("options").style.display = "block";
            document.getElementById("optionsbutton").classList.add("active");
        }
        else {
          const tabContent = document.getElementsByClassName("tabContent");
          let itr;
          for (itr = 0; itr < tabContent.length; itr+=1) {
            tabContent[itr].style.display = "none";
          }
          document.getElementById(""+tab+"").style.display = "block";
          document.getElementById(""+tab+"button").classList.add("active");
        }
        function openSection(event, section) {
          const tabContent = document.getElementsByClassName("tabContent");
          let itr;
          for (itr = 0; itr < tabContent.length; itr+=1) {
            tabContent[itr].style.display = "none";
          }
          const tabLinks = document.getElementsByClassName("tabLinks");
          for (itr = 0; itr < tabLinks.length; itr+=1) {
            tabLinks[itr].className = tabLinks[itr].className.replace(" active", "");
          }
          document.getElementById(section).style.display = "block";
          localStorage.setItem("tab", section);
          event.currentTarget.className += " active";
        }
      </script>
    </body>
</html>
